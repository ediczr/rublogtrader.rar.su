(function(e,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):(e=e||self,function(){var n=e.Cookies,r=e.Cookies=o();r.noConflict=function(){return e.Cookies=n,r}}())})(this,function(){"use strict";function e(e){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var r in n)e[r]=n[r]}return e}function o(r,t){function i(o,n,i){if("undefined"!=typeof document){i=e({},t,i),"number"==typeof i.expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),n=r.write(n,o),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in i)if(i[s]&&(a+="; "+s,!0!==i[s]))try{a+="="+i[s].split(";")[0]}catch(e){console.log("err-cookie: https://github.com/js-cookie/js-cookie");continue}return document.cookie=o+"="+n+a}}function a(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var o=document.cookie?document.cookie.split("; "):[],t={},i=0;i<o.length;i++){var a=o[i].split("="),s=a.slice(1).join("=");'"'===s[0]&&(s=s.slice(1,-1));try{var c=n.read(a[0]);if(t[c]=r.read(s,c),e===c)break}catch(e){}}return e?t[e]:t}}return Object.create({set:i,get:a,remove:function(o,n){i(o,"",e({},n,{expires:-1}))},withAttributes:function(n){return o(this.converter,e({},this.attributes,n))},withConverter:function(n){return o(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(r)}})}var n={read:function(e){return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},r=o(n,{path:"/"});return r});var pf_geo=function(){this.helpers={get_cookie:function(e){return Cookies.get(e)}.bind(this),set_cookie:function(e,o,n,r="",t,i){Cookies.set(e,o,{expires:n})}.bind(this),remove_cookie:function(e,o,n,r){Cookies.remove(e)}},this.funcs={getBrowserInfo:{options:[],header:[navigator.platform,navigator.userAgent,navigator.appVersion,navigator.vendor,window.opera],dataos:[{name:"Windows Phone",value:"Windows Phone",version:"OS"},{name:"Windows",value:"Win",version:"NT"},{name:"iPhone",value:"iPhone",version:"OS"},{name:"iPad",value:"iPad",version:"OS"},{name:"Kindle",value:"Silk",version:"Silk"},{name:"Android",value:"Android",version:"Android"},{name:"PlayBook",value:"PlayBook",version:"OS"},{name:"BlackBerry",value:"BlackBerry",version:"/"},{name:"Macintosh",value:"Mac",version:"OS X"},{name:"Linux",value:"Linux",version:"rv"},{name:"Palm",value:"Palm",version:"PalmOS"}],databrowser:[{name:"Chrome",value:"Chrome",version:"Chrome"},{name:"Firefox",value:"Firefox",version:"Firefox"},{name:"Safari",value:"Safari",version:"Version"},{name:"Internet Explorer",value:"MSIE",version:"MSIE"},{name:"Opera",value:"Opera",version:"Opera"},{name:"BlackBerry",value:"CLDC",version:"CLDC"},{name:"Mozilla",value:"Mozilla",version:"Mozilla"}],init:function(){var e=this.header.join(" "),o=this.matchItem(e,this.dataos),n=this.matchItem(e,this.databrowser);return{os:o,browser:n}},matchItem:function(e,o){var n,r,t,i,a,s=0,c=0;for(s=0;s<o.length;s+=1)if(n=new RegExp(o[s].value,"i"),t=n.test(e),t){if(r=new RegExp(o[s].version+"[- /:;]([\\d._]+)","i"),i=e.match(r),a="",i&&i[1]&&(i=i[1]),i)for(i=i.split(/[._]+/),c=0;c<i.length;c+=1)a+=0===c?i[c]+".":i[c];else a="0";return{name:o[s].name,version:parseFloat(a)}}return{name:"unknown",version:0}},printInfo:function(){var e=this.init(),o="os.name="+e.os.name+"|os.version="+e.os.version+"|browser.name="+e.browser.name+"|browser.version="+e.browser.version+"|navigator.userAgent="+navigator.userAgent+"|navigator.appVersion="+navigator.appVersion+"|navigator.platform="+navigator.platform+"|navigator.vendor="+navigator.vendor+"|";return o}},device_detector:function(){var e=navigator.userAgent.toLowerCase(),o=function(o){return void 0!==o&&(e=o.toLowerCase()),/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(e)?"tablet":/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard)/.test(e)?"phone":"desktop"};return{device:o(),detect:o,isMobile:"desktop"!=o(),userAgent:e}}.bind(this),get_country_code:function(e="wp_country"){var o=e,n=this.helpers.get_cookie(o);if(!n||void 0===n){var r=this.helpers;jQuery.ajax({url:"https://json.geoiplookup.io",dataType:"json",success:function(e){return r.set_cookie(o,e.country_code,2592e3),e.country_code},error:function(e,o,n){console.log("Status: "+o),console.log("Error: "+n),console.log(e)}})}return n}.bind(this),country_validate:function(e=""){if(!e)return!0;if(e.includes("all")){if(e.includes("all"))return!0}else{var o=this.get_country_code();if(o&&e.includes(o))return!0}return!1}},this.validator={get_device:function(){var e=this.funcs.device_detector();return"desktop"==e.device?"d":"tablet"==e.device?"t":"m"}.bind(this)},this.actions={save_geo:function(e={}){e.nonce=e.nonce||"",e.action=e.action||"",e.post_id=e.post_id||"",e.url=e.url||"",e.where_is=e.where_is||"",e.ajaxurl=e.ajaxurl||"",e.others=e.others||{};var o=this.funcs.getBrowserInfo.printInfo(),n=this.validator.get_device();jQuery.ajax({type:"POST",url:e.ajaxurl,data:{action:e.action,post_id:parseInt(e.post_id),url:e.url,where_is:e.where_is,browser_details:o,device:n,nonce:e.nonce,others:e.others},success:function(e){console.log("result: ",e)},error:function(e,o){console.log("Sorry, there was a problem! ",e,o)},complete:function(e,o){}})}.bind(this),save_others:function(e={}){e.nonce=e.nonce||"",e.action=e.action||"",e.post_id=e.post_id||"",e.ajaxurl=e.ajaxurl||"",e.others=e.others||{},jQuery.ajax({type:"POST",url:e.ajaxurl,data:{action:e.action,post_id:parseInt(e.post_id),nonce:e.nonce,others:e.others},success:function(e){console.log(e)},error:function(e,o){console.log("Sorry, there was a problem! ",e,o)},complete:function(e,o){}})}.bind(this)}};
!function($,window,document,undefined){"use strict";var YUZO=YUZO||{};YUZO.vars={onloaded:!1,$window:$(window),$document:$(document),geo:new pf_geo},YUZO.funcs={},YUZO.helper={uid:function(prefix){return(prefix||"")+Math.random().toString(36).substr(2,9)},preg_quote:function(str){return(str+"").replace(/(\[|\-|\])/g,"\\$1")}},YUZO.funcs.isCookieActive=function(name_cookie="yuzo"){if(YUZO.vars.geo.helpers.get_cookie(name_cookie))return!0},YUZO.funcs.save_click=function(type="c",post_id_click=0,yuzo_id=0,current_article_level=1){YUZO.vars.geo.actions.save_geo({action:"yuzo-save-click",post_id:yuzo_vars.post_id,url:yuzo_vars.url,where_is:yuzo_vars.where_is,ajaxurl:yuzo_vars.ajaxurl,nonce:yuzo_vars.nonce,others:JSON.stringify({type:type,post_id_click:post_id_click,yuzo_id:yuzo_id,is_logged:yuzo_vars.is_logged,level_article:yuzo_vars.level_article,current_article_level:current_article_level})})},$.fn.yuzo_register_click=function(){return this.each((function(){var $this=$(this);$this.find("li").off("click").on("click",(function(){event.preventDefault();var link=$(this).find("a").attr("data-href")?$(this).find("a").attr("data-href"):$(this).find("a").attr("href"),post_id=$(this).attr("post-id"),target=$(this).find("a").attr("target");YUZO.funcs.save_click($this.closest("[data-type]").data("type"),post_id,$this.closest("[data-id]").data("id"),$this.closest("[data-level]").data("level")),setTimeout((function(){"_blank"==target?window.open(link,"_blank"):window.location.href=link}),0)}))}))},$.fn.save_view=function(frontpage){frontpage>=1||1==yuzo_vars.off_views||1==yuzo_vars.disabled_counter||1==yuzo_vars.off_views_logged&&1==yuzo_vars.is_logged||!(yuzo_vars.post_id>0||null!=yuzo_vars.post_id)||1!=yuzo_vars.allows_to_count_visits||setTimeout((function(){YUZO.vars.geo.actions.save_others({action:"yuzo-save-view",post_id:yuzo_vars.post_id,ajaxurl:yuzo_vars.ajaxurl,nonce:yuzo_vars.nonce2,others:JSON.stringify({is_logged:yuzo_vars.is_logged})})}),0)},$(document).ready((function(){$(".wp-yuzo").yuzo_register_click(),$("body.single, body.page").save_view($("body.home").length)}))}(jQuery,window,document);
/*!
 * imagesLoaded PACKAGED v3.1.8
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,o=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===t(r[i],n)&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(i=t(o[r],n),-1!==i&&o[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,o,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(i=s[r].length;i--;)n=s[r][i],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=o,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}).call(this),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var r=function(){};n.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):e.eventie=o}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return t(e,n,i)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,n){function i(e,t){for(var n in t)e[n]=t[n];return e}function r(e){return"[object Array]"===d.call(e)}function o(e){var t=[];if(r(e))t=e;else if("number"==typeof e.length)for(var n=0,i=e.length;i>n;n++)t.push(e[n]);else t.push(e);return t}function s(e,t,n){if(!(this instanceof s))return new s(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=o(e),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),a&&(this.jqDeferred=new a.Deferred);var r=this;setTimeout(function(){r.check()})}function f(e){this.img=e}function c(e){this.src=e,v[e]=this}var a=e.jQuery,u=e.console,h=u!==void 0,d=Object.prototype.toString;s.prototype=new t,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);var i=n.nodeType;if(i&&(1===i||9===i||11===i))for(var r=n.querySelectorAll("img"),o=0,s=r.length;s>o;o++){var f=r[o];this.addImage(f)}}},s.prototype.addImage=function(e){var t=new f(e);this.images.push(t)},s.prototype.check=function(){function e(e,r){return t.options.debug&&h&&u.log("confirm",e,r),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return this.complete(),void 0;for(var r=0;i>r;r++){var o=this.images[r];o.on("confirm",e),o.check()}},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},a&&(a.fn.imagesLoaded=function(e,t){var n=new s(this,e,t);return n.jqDeferred.promise(a(this))}),f.prototype=new t,f.prototype.check=function(){var e=v[this.img.src]||new c(this.img.src);if(e.isConfirmed)return this.confirm(e.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var t=this;e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),e.check()},f.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var v={};return c.prototype=new t,c.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},c.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},c.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},c.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},c.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},c.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},s});(function($){"use strict";var SPU_master=function(){var windowHeight=$(window).height();var isAdmin=spuvar.is_admin;var isPreview=spuvar.is_preview;var $boxes=[];$(".spu-content").children().first().css({"margin-top":0,"padding-top":0}).end().last().css({'margin-bottom':0,'padding-bottom':0});$(".spu-box").each(function(){var $box=$(this);if($box.hasClass('spu-top-bar')||$box.hasClass('spu-bottom-bar')){$box.prependTo('body');if($box.hasClass('spu-top-bar')&&$('#wpadminbar').length)
$box.css('top','32px');}
var triggerMethod=$box.data('trigger');var timer=0;var testMode=(parseInt($box.data('test-mode'))===1);var id=$box.data('box-id');var autoHide=(parseInt($box.data('auto-hide'))===1);var secondsClose=parseInt($box.data('seconds-close'));var triggerSeconds=parseInt($box.data('trigger-number'),10);var triggerPercentage=(triggerMethod=='percentage')?(parseInt($box.data('trigger-number'),10)/100):0.8;var triggerHeight=(triggerPercentage*$(document).height());facebookFix($box);var iframe=$box.find('iframe');if(iframe&&iframe.length){iframe.each(function(){$(this).attr('spusrc',$(this).attr('src'));$(this).attr('src','http://#');})}
$box.on('click','a:not(".spu-close-popup, .flp_wrapper a, .spu-not-close, .spu-not-close a")',function(){toggleBox(id,false,true);});$box.on('click','.spu-close-convert,.spu-close-convert a',function(e){e.preventDefault();toggleBox(id,false,true);});$(document).keyup(function(e){if(e.keyCode==27){toggleBox(id,false,false);}});var ua=navigator.userAgent,event=(ua.match(/iPad/i)||ua.match(/iPhone/i))?"touchstart":"click";$('body').on(event,function(ev){var $target=$(ev.target);if($target.is('input.nf-element')){return;}
if(ev.originalEvent!==undefined&&!($.contains($box,$target)&&$target.is('input'))&&!$box.hasClass('spu-top-bar')&&!$box.hasClass('spu-bottom-bar')){toggleBox(id,false,false);}});$('body').on(event,'.spu-box,.spu-clickable',function(event){event.stopPropagation();});$box.hide().css('left','').css('right','');$boxes[id]=$box;var triggerHeightCheck=function()
{if(timer){clearTimeout(timer);}
timer=window.setTimeout(function(){var scrollY=$(window).scrollTop();var triggered=((scrollY+windowHeight)>=triggerHeight);if(triggered){if(!autoHide){$(window).unbind('scroll',triggerHeightCheck);}
toggleBox(id,true,false);}else{toggleBox(id,false,false);}},100);}
var triggerPixelsCheck=function()
{if(timer){clearTimeout(timer);}
timer=window.setTimeout(function(){var scrollY=$(window).scrollTop();var triggered=(scrollY>=triggerSeconds);if(triggered){if(!autoHide){$(window).unbind('scroll',triggerPixelsCheck);}
toggleBox(id,true,false);}else{toggleBox(id,false,false);}},100);}
var triggerSecondsCheck=function()
{if(timer){clearTimeout(timer);}
timer=window.setTimeout(function(){toggleBox(id,true,false);},triggerSeconds*1000);}
var nclose_cookie=$box.data('nclose-cookie');var nconvert_cookie=$box.data('nconvert-cookie');var cookieValue1=spuReadCookie(nclose_cookie);var cookieValue2=spuReadCookie(nconvert_cookie);if(((cookieValue1==undefined||cookieValue1=='')&&(cookieValue2==undefined||cookieValue2==''))||(isAdmin&&testMode)||isPreview){if(triggerMethod=='seconds'){triggerSecondsCheck();}
if(triggerMethod=='percentage'){$(window).bind('scroll',triggerHeightCheck);triggerHeightCheck();}
if(triggerMethod=='pixels'){$(window).bind('scroll',triggerPixelsCheck);triggerPixelsCheck();}
if(window.location.hash&&window.location.hash.length>0){var hash=window.location.hash;var $element;if(hash.substring(1)===$box.attr('id')){setTimeout(function(){toggleBox(id,true,false);},100);}}}
$box.on('click','.spu-close-popup',function(){toggleBox(id,false,false);if(triggerMethod=='percentage'){$(window).unbind('scroll',triggerHeightCheck);}});$(document.body).on('click','a[href="#spu-'+id+'"], .spu-open-'+id,function(e){e.preventDefault();toggleBox(id,true,false);});$('a[href="#spu-'+id+'"], .spu-open-'+id).css('cursor','pointer').addClass('spu-clickable');$box.find('.gform_wrapper form').addClass('gravity-form');$box.find('.mc4wp-form form').addClass('mc4wp-form');$box.find('.newsletter form').addClass('newsletter-form');var box_form=$box.find('form');if(box_form.length){if(!box_form.is(".newsletter-form, .wpcf7-form, .gravity-form, .infusion-form, .widget_wysija, .ninja-forms-form")){var action=box_form.attr('action'),pattern=new RegExp(spuvar.site_url,"i");if(action&&action.length){if(!pattern.test(action))
box_form.addClass('spu-disable-ajax');}}
if($('.spu-disable-ajax form').length){$('.spu-disable-ajax form').addClass('spu-disable-ajax');}
$box.on('submit','form.spu-disable-ajax:not(".flp_form")',function(){$box.trigger('spu.form_submitted',[id]);toggleBox(id,false,true);});$box.on('submit','form:not(".newsletter-form, .wpcf7-form, .gravity-form, .infusion-form, .spu-disable-ajax, .widget_wysija, .ninja-forms-form, .flp_form")',function(e){e.preventDefault();var submit=true,form=$(this),button=form.find('input[type="submit"]'),tail=button?button.attr('name')+'='+button.val():'button=send',data=form.serialize()+"&"+tail,referer=form.find('input[name="_wp_http_referer"]'),urlref=referer&&referer.val()!==undefined?spuvar.site_url+referer.val():window.location.href,action=form.attr('action')?form.attr('action'):urlref,url=form.hasClass('mc4wp-form')?spuvar.site_url+'/':action,error_cb=function(data,error,errorThrown){console.log('Spu Form error: '+error+' - '+errorThrown);},success_cb=function(data){var response=$(data).filter('#spu-'+id).html();$('#spu-'+id).html(response);if(!$('#spu-'+id).find('.mc4wp-alert').length){setTimeout(function(){toggleBox(id,false,true);},spuvar.seconds_confirmation_close*1000);}};request(data,url,success_cb,error_cb,'html');$box.trigger('spu.form_submitted',[id]);return submit;});$(document).on('wpcf7mailsent',function(){$box.trigger('spu.form_submitted',[id]);toggleBox(id,false,true);});if(box_form.hasClass('gravity-form')){box_form.attr('action',window.location.href)}
$(document).on('gform_confirmation_loaded',function(){$box.trigger('spu.form_submitted',[id]);toggleBox(id,false,true);});$box.on('submit','.infusion-form',function(e){e.preventDefault();$box.trigger('spu.form_submitted',[id]);toggleBox(id,false,true);this.submit();});$box.on('submit','.newsletter-form',function(e){e.preventDefault();$box.trigger('spu.form_submitted',[id]);toggleBox(id,false,true);this.submit();});$('body').on('submitResponse.default',function(){$box.trigger('spu.form_submitted',[id]);toggleBox(id,false,true);});}
var box_nf3=$box.find('.nf-form-cont');if(box_nf3.length){$(document).on('nfFormSubmitResponse',function(){$box.trigger('spu.form_submitted',[id]);setTimeout(function(){toggleBox(id,false,true);},spuvar.seconds_confirmation_close*1000);});}});function fixSize(id){var $box=$boxes[id];var windowWidth=$(window).width();var windowHeight=$(window).height();var popupHeight=$box.outerHeight();var popupWidth=$box.outerWidth();var intentWidth=$box.data('width');var left=0;var top=windowHeight/2-popupHeight/2;var position='fixed';var currentScroll=$(document).scrollTop();if($box.hasClass('spu-centered')){if(intentWidth<windowWidth){left=windowWidth/2-popupWidth/2;}
$box.css({"left":left,"position":position,"top":top,});}
if((popupHeight+50)>windowHeight){position='absolute';top=currentScroll;$box.css({"position":position,"top":top,"bottom":"auto",});}}
function facebookFix(box){var $fbbox=$(box).find('.spu-facebook');if($fbbox.length){var $fbwidth=$fbbox.find('.fb-like > span').width();if($fbwidth==0){var $fblayout=$fbbox.find('.fb-like').data('layout');if($fblayout=='box_count'){$fbbox.append('<style type="text/css"> #'+$(box).attr('id')+' .fb-like iframe, #'+$(box).attr('id')+' .fb_iframe_widget span, #'+$(box).attr('id')+' .fb_iframe_widget{ height: 63px !important;width: 80px !important;}</style>');}else if($fblayout=='button_count'){$fbbox.append('<style type="text/css"> #'+$(box).attr('id')+' .fb-like iframe, #'+$(box).attr('id')+' .fb_iframe_widget span, #'+$(box).attr('id')+' .fb_iframe_widget{ height: 20px !important;min-width: 120px !important;}</style>');}else{$fbbox.append('<style type="text/css"> #'+$(box).attr('id')+' .fb-like iframe, #'+$(box).attr('id')+' .fb_iframe_widget span, #'+$(box).attr('id')+' .fb_iframe_widget{ height: 20px !important;width: 80px !important;}</style>');}}}}
function centerShortcodes(box){var $box=box;var total=$box.data('total');if(total){var swidth=0;var free_width=0;var boxwidth=$box.outerWidth();var cwidth=$box.find(".spu-content").width();if(!spuvar.disable_style&&$(window).width()>boxwidth){$box.find(".spu-shortcode").wrapAll('<div class="spu_shortcodes"/>');$box.find(".spu-shortcode").each(function(){swidth=swidth+$(this).outerWidth();});free_width=cwidth-swidth-(total*20);}
if(free_width>0){$box.find(".spu-shortcode").each(function(){$(this).css('margin-left',(free_width/2));});if(total==2){$box.find(".spu-shortcode").last().css('margin-left',0);}else if(total==3){$box.find(".spu-shortcode").first().css('margin-left',0);}}}}
function toggleBox(id,show,conversion){var $box=$boxes[id];var $bg=$('#spu-bg-'+id);var $bgopa=$box.data('bgopa');if($box.is(":animated")){return false;}
if((show===true&&$box.is(":visible"))||(show===false&&$box.is(":hidden"))){return false;}
if(show===false){var tcookie=$box.data('tclose-cookie');var dcookie=parseFloat($box.data('dclose-cookie'));var ncookie=$box.data('nclose-cookie');if(conversion===true){tcookie=$box.data('tconvert-cookie');dcookie=parseFloat($box.data('dconvert-cookie'));ncookie=$box.data('nconvert-cookie');}
if(dcookie>0){spuCreateCookie(ncookie,true,tcookie,dcookie);}
$box.trigger('spu.box_close',[id]);var iframe=$box.find('iframe[src*="vimeo"],iframe[src*="youtube"],iframe[src*="youtu.be"]');if(iframe&&iframe.length){iframe.each(function(){$(this).attr('src','http://#');});}}else{setTimeout(function(){centerShortcodes($box);},1500);$box.trigger('spu.box_open',[id]);$(window).resize(function(){fixSize(id);});fixSize(id);var iframe=$box.find('iframe');if(iframe&&iframe.length){iframe.each(function(){if($(this).attr('spusrc'))
$(this).attr('src',$(this).attr('spusrc'));});}}
var animation=$box.data('spuanimation'),conversion_close=$box.data('close-on-conversion');if(animation==='fade'){if(show===true){$box.fadeIn('slow');}else if(show===false&&((conversion_close&&conversion)||!conversion)){$box.fadeOut('slow');}}else if(animation==='disable'){if(show===true){$box.show();}else if(show===false&&((conversion_close&&conversion)||!conversion)){$box.hide();}}else{if(show===true){$box.slideDown('slow');}else if(show===false&&((conversion_close&&conversion)||!conversion)){$box.slideUp('slow');}}
if(show===true&&$bgopa>0&&!$box.hasClass('spu-top-bar')&&!$box.hasClass('spu-bottom-bar')){if(animation==='disable'){$bg.show();}else{$bg.fadeIn();}}else if(show===false&&((conversion_close&&conversion)||!conversion)){if(animation==='disable'){$bg.hide();}else{$bg.fadeOut();}}
return show;}
return{show:function(box_id){return toggleBox(box_id,true,false);},hide:function(box_id,conversion){return toggleBox(box_id,false,conversion);},resize:function(box_id){return fixSize(box_id);},request:function(data,url,success_cb,error_cb){return request(data,url,success_cb,error_cb);}}}
if(spuvar.ajax_mode){var data={pid:spuvar.pid,referrer:document.referrer,current_url:document.documentURI,query_string:document.location.search,is_category:spuvar.is_category,is_archive:spuvar.is_archive,is_preview:spuvar.is_preview},success_cb=function(response){$('body').append(response);$(".spu-box").imagesLoaded(function(){window.SPU=SPU_master();SPU_reload_forms();});},error_cb=function(data,error,errorThrown){console.log('Problem loading popups - error: '+error+' - '+errorThrown);}
request(data,spuvar.ajax_mode_url,success_cb,error_cb,'html');}else{$(".spu-box").imagesLoaded(function(){window.SPU=SPU_master();});}
function request(data,url,success_cb,error_cb,dataType){var ajax={url:spuvar.ajax_url,data:data,cache:false,type:'POST',dataType:'json',timeout:30000},dataType=dataType||false,success_cb=success_cb||false,error_cb=error_cb||false;if(url){ajax.url=url;}
if(success_cb){ajax.success=success_cb;}
if(error_cb){ajax.error=error_cb;}
if(dataType){ajax.dataType=dataType;}
$.ajax(ajax);}
function spuCreateCookie(name,value,type,duration){if(duration){var date=new Date();if(type=='h')
date.setTime(date.getTime()+(duration*60*60*1000));else
date.setTime(date.getTime()+(duration*24*60*60*1000));var expires="; expires="+date.toGMTString();}else var expires="";document.cookie=name+"="+value+expires+"; path=/";}
function spuReadCookie(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length);}
return null;}
var SPUfb=false;var FbTimer=setInterval(function(){if(typeof FB!=='undefined'&&!SPUfb){subscribeFbEvent();}},1000);if(typeof twttr!=='undefined'){try{twttr.ready(function(twttr){twttr.events.bind('tweet',twitterCB);twttr.events.bind('follow',twitterCB);});}catch(ex){}}
function subscribeFbEvent(){try{FB.Event.subscribe('edge.create',function(href,html_element){var box_id=$(html_element).parents('.spu-box').data('box-id');if(box_id){SPU.hide(box_id,false,true);}});}catch(ex){}
SPUfb=true;clearInterval(FbTimer);}
function twitterCB(intent_event){var box_id=$(intent_event.target).parents('.spu-box').data('box-id');if(box_id){SPU.hide(box_id,false,true);}}
function googleCB(a){if("on"==a.state){var box_id=jQuery('.spu-gogl').data('box-id');if(box_id){SPU.hide(box_id,false,true);}}}
function closeGoogle(a){if("confirm"==a.type)
{var box_id=jQuery('.spu-gogl').data('box-id');if(box_id){SPU.hide(box_id,false,true);}}}
function SPU_reload_socials(){if(typeof spuvar_social!='undefined'&&spuvar_social.facebook){try{FB.XFBML.parse();}catch(ex){}}
if(typeof spuvar_social!='undefined'&&spuvar_social.google){try{gapi.plusone.go();}catch(ex){}}
if(typeof spuvar_social!='undefined'&&spuvar_social.twitter){try{twttr.widgets.load();}catch(ex){}}}
function SPU_reload_forms(){$('.spu-box form').each(function(){var action=$(this).attr('action');if(action){$(this).attr('action',action.replace('?spu_action=spu_load',''));}});if(typeof wpcf7!=='undefined'&&wpcf7!==null&&wpcf7.initForm){$('.spu-box div.wpcf7 > form').each(function(){wpcf7.initForm($(this));if(wpcf7.cached){wpcf7.refill($(this));}});}
if($.fn.wpcf7InitForm){$('.spu-box div.wpcf7 > form').wpcf7InitForm();}}})(jQuery);
'use strict';(function(b,f){var g=function(b,g,f){var a;return function(){var d=this,c=arguments;a?clearTimeout(a):f&&b.apply(d,c);a=setTimeout(function(){f||b.apply(d,c);a=null},g||100)}};jQuery.fn[f]=function(b){return b?this.bind("resize",g(b)):this.trigger(f)}})(jQuery,"shiftsmartresize");
var shift_supports=function(){var b=document.createElement("div"),f=["Khtml","Ms","O","Moz","Webkit"];return function(g){var h=f.length;if(g in b.style)return!0;for(g=g.replace(/^[a-z]/,function(b){return b.toUpperCase()});h--;)if(f[h]+g in b.style)return!0;return!1}}();
(function(b,f,g,h){function k(a,d){this.element=a;this.$shiftnav=b(this.element);this.$menu=this.$shiftnav.find("ul.shiftnav-menu");this.settings=b.extend({},l,d);this._defaults=l;this._name="shiftnav";this.touchenabled="ontouchstart"in f||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints;f.navigator.pointerEnabled?(this.touchStart="pointerdown",this.touchEnd="pointerup",this.touchMove="pointermove"):f.navigator.msPointerEnabled?(this.touchStart="MSPointerDown",this.touchEnd="MSPointerUp",
this.touchMove="MSPointerMove"):(this.touchStart="touchstart",this.touchEnd="touchend",this.touchMove="touchmove");this.toggleevent="touchend"==this.touchEnd?this.touchEnd+" click":this.touchEnd;this.transitionend="transitionend.shiftnav webkitTransitionEnd.shiftnav msTransitionEnd.shiftnav oTransitionEnd.shiftnav";this.settings.clicktest&&(this.touchEnd="click");this.init()}var l={mouseEvents:!0,retractors:!0,touchOffClose:!0,clicktest:!1,windowstest:!1,debug:!1,open_current:!1,collapse_accordions:!1,
scroll_offset:100,disable_transforms:!1,close_on_target_click:!1,process_uber_segments:!0};k.prototype={init:function(){this.$shiftnav.removeClass("shiftnav-nojs");this.$toggles=b('.shiftnav-toggle[data-shiftnav-target="'+this.$shiftnav.data("shiftnav-id")+'"]');this.initializeShiftNav();this.initializeTargets();this.initializeSubmenuToggleMouseEvents();this.initializeSubmenuToggleKeyboardEvents();this.initializeRetractors();this.initializeResponsiveToggle()},initializeShiftNav:function(){var a=b("body"),
d=this;if(!a.hasClass("shiftnav-enabled")){a.addClass("shiftnav-enabled");"on"==shiftnav_data.lock_body&&a.addClass("shiftnav-lock");"on"==shiftnav_data.lock_body_x&&a.addClass("shiftnav-lock-x");"off"!=shiftnav_data.shift_body?""!=shiftnav_data.shift_body_wrapper?b(shiftnav_data.shift_body_wrapper).addClass("shiftnav-wrap"):(a.wrapInner('<div class="shiftnav-wrap"></div>'),b("video[autoplay]").each(function(){b(this).get(0).play()})):a.addClass("shiftnav-disable-shift-body");b("#shiftnav-toggle-main, #wpadminbar, .shiftnav-fixed-left, .shiftnav-fixed-right").appendTo("body");
var c=b(".shiftnav-wrap"),e=b("#shiftnav-toggle-main");if(e.length)if(!e.hasClass("shiftnav-toggle-style-burger_only")&&e.hasClass("shiftnav-togglebar-gap-auto")||e.hasClass("shiftnav-togglebar-gap-on")){var n=e.outerHeight();c.css("padding-top",n);e.addClass("shiftnav-togglebar-gap-on");"off"==shiftnav_data.shift_body&&(c="body.shiftnav-disable-shift-body{ padding-top:"+n+"px; }",""!==shiftnav_data.breakpoint&&(c="@media screen and (max-width:"+(shiftnav_data.breakpoint-1)+"px){ "+c+" }"),e=null,
e=g.getElementById("shiftnav-dynamic-css"),e||(e=g.createElement("style"),e.appendChild(g.createTextNode("")),g.head.appendChild(e)),(e=e.sheet)&&"insertRule"in e&&e.insertRule(c,0))}else b("body").hasClass("admin-bar")&&b("html").addClass("shiftnav-nogap");c=!1;e=navigator.userAgent.toLowerCase();/android/.test(e)&&(c=!0,/android [1-3]\./.test(e)?c=!0:/chrome/.test(e)?c=!1:/firefox/.test(e)&&(c=!1));(!shift_supports("transform")||c||d.settings.disable_transforms)&&a.addClass("shiftnav-no-transforms");
b(".shiftnav-searchbar-toggle").each(function(){var a=b(this).next(".shiftnav-searchbar-drop");b(this).on(d.toggleevent,function(c){d.toggleSearchBar(c,a,d)}).on("keyup.shiftnav-searchbar-toggle",function(c){13===c.keyCode&&d.toggleSearchBar(c,a,d)}).on("keydown.shiftnav-searbar-toggle",function(a){13===a.keyCode&&a.stopPropagation()})});b(".shiftnav-searchbar-drop").on(this.toggleevent,function(a){a.stopPropagation()});if(this.settings.touchOffClose)b(".shiftnav-searchbar-drop .shiftnav-search-input").on("blur",
function(a){""!=b(this).val()||m||b(this).parents(".shiftnav-searchbar-drop").removeClass("shiftnav-searchbar-drop-open")});var m;b(".shiftnav-searchbar-toggle").on("mousedown",function(a){m=!0});b(".shiftnav-searchbar-toggle").on("mouseup",function(a){m=!1});b(".shiftnav").css("max-height",f.innerHeight);b(f).shiftsmartresize(function(){b(".shiftnav").css("max-height",f.innerHeight)})}this.$shiftnav.appendTo("body");this.$shiftnav.hasClass("shiftnav-right-edge")?this.edge="right":this.edge="left";
this.openclass="shiftnav-open shiftnav-open-"+this.edge;this.$shiftnav.find(".shiftnav-panel-close").on("click",function(a){d.closeShiftNav()});this.$shiftnav.find(".shiftnav-sr-close").on("click",function(a){d.closeShiftNav();d.focusMainToggle()});this.$shiftnav.find(".shiftnav-submenu-activation").each(function(){var a=b(this).siblings(".shiftnav-target").outerHeight();b(this).css({height:a,width:a})});d.settings.process_uber_segments&&this.$shiftnav.find(".sub-menu .menu-item.current-menu-item").parents(".menu-item").addClass("current-menu-ancestor");
d.settings.open_current&&b(".shiftnav .shiftnav-sub-accordion.current-menu-item, .shiftnav .shiftnav-sub-accordion.current-menu-ancestor").addClass("shiftnav-active")},initializeTargets:function(){var a=this;this.$shiftnav.find(".shiftnav-scrollto").removeClass("current-menu-item").removeClass("current-menu-ancestor");this.$shiftnav.on("click",".menu-item > .shiftnav-target",function(d){var c=b(this).data("shiftnav-scrolltarget");if(c){var e=b(c).first();if(0<e.length)return d=b(this).parent(".menu-item"),
d.siblings().removeClass("current-menu-item").removeClass("current-menu-ancestor"),d.addClass("current-menu-item"),d=e.offset().top,d-=a.settings.scroll_offset,b("html,body").animate({scrollTop:d},1E3,"swing",function(){a.closeShiftNav()}),!1;(e=b(this).attr("href"))&&-1==e.indexOf("#")&&(-1==c.indexOf("#")&&(c="#"+c),f.location=e+c,d.preventDefault())}else b(this).is("span")&&(d=b(this).parent(".menu-item"),d.hasClass("shiftnav-active")?a.closeSubmenu(d,"disabledLink",a):a.openSubmenu(d,"disabledLink",
a));"a"===b(this).prop("tagName").toLowerCase()&&a.settings.close_on_target_click&&a.closeShiftNav()})},initializeSubmenuToggleMouseEvents:function(){if(this.settings.mouseEvents&&!this.settings.clicktest&&!this.settings.windowstest){this.settings.debug&&console.log("initializeSubmenuToggleMouseEvents");var a=this;this.$shiftnav.on("mouseup.shift-submenu-toggle",".shiftnav-submenu-activation",function(b){a.handleMouseActivation(b,this,a)})}},disableSubmenuToggleMouseEvents:function(){this.settings.debug&&
console.log("disableSubmenuToggleMouseEvents");$shiftnav.off("mouseover.shift-submenu-toggle");$shiftnav.off("mouseout.shift-submenu-toggle")},initializeSubmenuToggleKeyboardEvents:function(){this.settings.debug&&console.log("initializeSubmenuToggleKeyboardEvents");var a=this;this.$shiftnav.on("keyup.shift-submenu-toggle",".shiftnav-submenu-activation",function(d){if(13===d.keyCode){a.handleMouseActivation(d,this,a);var c=b(this).siblings(".shiftnav-submenu-activation").first();c.length&&setTimeout(function(){c.focus()},
10)}})},initializeRetractors:function(){if(this.settings.retractors){var a=this;this.$shiftnav.on("mouseup.shiftnav",".shiftnav-retract",function(b){a.handleSubmenuRetractorEnd(b,this,a)});this.$shiftnav.on("keyup.shiftnav",".shiftnav-retract",function(b){13===b.keyCode&&a.handleSubmenuRetractorEnd(b,this,a)})}},initializeResponsiveToggle:function(){var a=this;this.$toggles.on("click","a",function(a){a.stopPropagation()});this.$toggles.on("click",function(d){a.toggle(b(this),a,d)});this.$toggles.on("keydown",
function(a){if(9===a.keyCode){var c=b(this).data("shiftnav-target");c=b('[data-shiftnav-id="'+c+'"]');c.length&&c.hasClass("shiftnav-open-target")&&(a.preventDefault(),c.find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").first().focus())}});if("shiftnav-main"===this.$shiftnav.attr("id"))b("#shiftnav-toggle-main.shiftnav-toggle-main-entire-bar").on("keydown",function(d){13===
d.keyCode&&a.toggle(b(this),a,d)})},toggle:function(a,d,c){c.preventDefault();c.stopPropagation();if("click"!=c.originalEvent.type||!b(this).data("disableToggle")){if(d.$shiftnav.hasClass("shiftnav-open-target"))d.closeShiftNav();else{a=a.attr("id");var e="shiftnav-toggle-main"==a?"[Main Toggle Bar]":'"'+b(this).text()+'"';"shiftnav-toggle-main-button"!=a&&"shiftnav-toggle-main"!=a||!b("body").hasClass("shiftnav-open")?d.openShiftNav("toggle: "+e):b(".shiftnav.shiftnav-open-target").shiftnav("closeShiftNav")}"click"!==
c.originalEvent.type&&"keydown"!==c.originalEvent.type&&(b(this).data("disableToggle",!0),setTimeout(function(){b(this).data("disableToggle",!1)},1E3));return!1}},openShiftNav:function(a){var d=this;this.settings.debug&&console.log("openShiftNav "+(a||"?"));b("body").removeClass("shiftnav-open-right shiftnav-open-left").addClass(this.openclass).addClass("shiftnav-transitioning");b(".shiftnav-open-target").removeClass("shiftnav-open-target");this.$shiftnav.addClass("shiftnav-open-target").on(d.transitionend,
function(){b("body").removeClass("shiftnav-transitioning");b(this).off(d.transitionend)});this.$shiftnav.trigger("shiftnav-open");this.disableTouchoffClose();this.initializeTouchoffClose();b("body").on("focusin.shiftnavPanel",function(a){d.closeShiftNav();d.focusMainToggle()});this.$shiftnav.on("focusin.shiftnavPanel",function(a){a.stopPropagation()});b(g).on("keyup.shiftnavPanel",function(a){27===a.keyCode&&(d.closeShiftNav(),d.focusMainToggle())})},closeShiftNav:function(){var a=this;b("body").removeClass(this.openclass).addClass("shiftnav-transitioning");
this.$shiftnav.removeClass("shiftnav-open-target").on(a.transitionend,function(){b("body").removeClass("shiftnav-transitioning");b(this).off(a.transitionend)});this.$shiftnav.trigger("shiftnav-close");this.disableTouchoffClose();b("body").off("focusin.shiftnavPanel");this.$shiftnav.off("focusin.shiftnavPanel");b(g).off("keyup.shiftnavPanel")},focusMainToggle:function(a){"shiftnav-main"===this.$shiftnav.attr("id")&&b('#shiftnav-toggle-main .shiftnav-toggle[data-shiftnav-target="shiftnav-main"]').focus()},
initializeTouchoffClose:function(){if(this.settings.touchOffClose){var a=this;b(g).on("click.shiftnav "+this.touchEnd+".shiftnav",function(b){a.handleTouchoffClose(b,this,a)})}},disableTouchoffClose:function(){b(g).off(".shiftnav")},handleMouseActivation:function(a,d,c){c.settings.debug&&console.log("handleMouseover, add mouseout",a);a=b(d).parent();a.hasClass("shiftnav-active")?c.closeSubmenu(a,"mouseActivate",c):c.openSubmenu(a,"mouseActivate",c)},handleSubmenuRetractorEnd:function(a,d,c){a.preventDefault();
a.stopPropagation();a=b(d).parent("ul").parent("li");c.closeSubmenu(a,"handleSubmenuRetractor",c);c.settings.debug&&console.log("handleSubmenuRetractorEnd "+a.find("> a").text())},handleTouchoffClose:function(a,d,c){b("body").is(".shiftnav-transitioning")||0!==b(a.target).parents().add(b(a.target)).filter(".shiftnav, .shiftnav-toggle, .shiftnav-ignore").length||(c.settings.debug&&console.log("touchoff close ",a),a.preventDefault(),a.stopPropagation(),c.closeShiftNav(),c.disableTouchoffClose())},scrollPanel:function(a){if("off"==
shiftnav_data.scroll_panel)return 0;if("undefined"==typeof a)return this.$shiftnav.find(".shiftnav-inner").scrollTop();this.$shiftnav.find(".shiftnav-inner").scrollTop(a)},openSubmenu:function(a,d,c){a.hasClass("shiftnav-active")||(a.hasClass("shiftnav-sub-shift")?(a.siblings(".shiftnav-active").removeClass("shiftnav-active"),a.toggleClass("shiftnav-caulk"),c.$shiftnav.addClass("shiftnav-sub-shift-active")):c.settings.collapse_accordions&&a.siblings(".shiftnav-active").removeClass("shiftnav-active"),
a.parents("ul").removeClass("shiftnav-sub-active-current"),a.find("> ul").addClass("shiftnav-sub-active").addClass("shiftnav-sub-active-current"),setTimeout(function(){a.addClass("shiftnav-active");a.trigger("shiftnav-open-submenu");a.removeClass("shiftnav-caulk");setTimeout(function(){var d=c.scrollPanel();a.data("scroll-back",d);d=a.offset().top+d-b(f).scrollTop();c.scrollPanel(d)},100)},1))},closeSubmenu:function(a,d,c){this.settings.debug&&console.log("closeSubmenu "+a.find(">a").text()+" ["+
d+"]");a.hasClass("menu-item-has-children")&&a.hasClass("shiftnav-active")&&(a.addClass("shiftnav-in-transition"),a.each(function(){var a=b(this),e=a.find("> ul");e.on(c.transitionend+"_closesubmenu",function(){c.settings.debug&&console.log("finished submenu close transition");a.removeClass("shiftnav-in-transition");e.off(c.transitionend+"_closesubmenu")});c.closeSubmenu(a.find(".shiftnav-active"),d+"_recursive",c)}));a.removeClass("shiftnav-active");if(a.hasClass("shiftnav-sub-shift")){0==a.parents(".shiftnav-sub-shift").length&&
c.$shiftnav.removeClass("shiftnav-sub-shift-active");var e=a.data("scroll-back");"undefined"!==e&&c.scrollPanel(e)}a.find("> ul").removeClass("shiftnav-sub-active").removeClass("shiftnav-sub-active-current");a.closest("ul").addClass("shiftnav-sub-active-current");a.trigger("shiftnav-close-submenu")},closeAllSubmenus:function(){b(this.element).find("li.menu-item-has-children").removeClass("shiftnav-active")},toggleSearchBar:function(a,d,c){a.stopPropagation();a.preventDefault();d.hasClass("shiftnav-searchbar-drop-open")?
(d.removeClass("shiftnav-searchbar-drop-open"),b("body").off("click.shiftnav-searchbar-drop")):(d.addClass("shiftnav-searchbar-drop-open"),d.find(".shiftnav-search-input").focus(),c.settings.touchOffClose&&setTimeout(function(){b("body").on("click.shiftnav-searchbar-drop",function(a){b(".shiftnav-searchbar-drop").removeClass("shiftnav-searchbar-drop-open");b("body").off("click.shiftnav-searchbar-drop")})},100))}};b.fn.shiftnav=function(a){var d=arguments;if(a===h||"object"===typeof a)return this.each(function(){b.data(this,
"plugin_shiftnav")||b.data(this,"plugin_shiftnav",new k(this,a))});if("string"===typeof a&&"_"!==a[0]&&"init"!==a){var c;this.each(function(){var e=b.data(this,"plugin_shiftnav");e instanceof k&&"function"===typeof e[a]&&(c=e[a].apply(e,Array.prototype.slice.call(d,1)));"destroy"===a&&b.data(this,"plugin_shiftnav",null)});return c!==h?c:this}}})(jQuery,window,document);
(function(b){function f(a){if(!l){l=!0;"undefined"!=typeof console&&"window.load"==a&&console.log("ShiftNav initialized via "+a);b(".shiftnav-loading").remove();jQuery(".shiftnav").shiftnav({open_current:"on"==shiftnav_data.open_current?!0:!1,collapse_accordions:"on"==shiftnav_data.collapse_accordions?!0:!1,breakpoint:parseInt(shiftnav_data.breakpoint),touchOffClose:"on"==shiftnav_data.touch_off_close?!0:!1,scroll_offset:shiftnav_data.scroll_offset,disable_transforms:"on"==shiftnav_data.disable_transforms?
!0:!1,close_on_target_click:"on"==shiftnav_data.close_on_target_click?!0:!1,process_uber_segments:"on"==shiftnav_data.process_uber_segments?!0:!1});if("."==window.location.hash.substring(1,2)&&(a=b(window.location.hash.substring(1)),a.length)){var c=a.offset().top-shiftnav_data.scroll_offset;a.length&&window.scrollTo(0,c)}window.location.hash&&(a=window.location.hash,"."==a.substring(1,2)&&(a=a.substring(1)),a=a.replace(/[^#a-z0-9!$&'()*+,;=]/gi,""),a=b(".shiftnav").find('.shiftnav-target[data-shiftnav-scrolltarget="'+
a+'"]').parent(),a.length&&(a.siblings().removeClass("current-menu-item").removeClass("current-menu-ancestor"),a.addClass("current-menu-item")));"1"==shiftnav_data.pro&&(g(),b(window).on("scroll",k(h(g,200),200)));b(".shiftnav").trigger("shiftnav-loaded")}}function g(){var c=b("body"),e=b(window).scrollTop(),f="";e<=shiftnav_data.scroll_top_boundary?f="top":e>a?f="down":e<a&&(f="up");if(f!==d)switch(c.removeClass("shiftnav--scroll-top shiftnav--scroll-up shiftnav--scroll-down"),f){case "top":c.addClass("shiftnav--scroll-top");
break;case "down":c.addClass("shiftnav--scroll-down");break;case "up":c.addClass("shiftnav--scroll-up")}c.trigger("shiftnav-window-scroll",{scrollTop:e,scrollDir:f,prevScrollDir:d});d=f;a=e}function h(a,b,d){var c;return function(){var e=this,f=arguments,g=d&&!c;clearTimeout(c);c=setTimeout(function(){c=null;d||a.apply(e,f)},b);g&&a.apply(e,f)}}function k(a,b){var c;return function(){var d=arguments;c||(a.apply(this,d),c=!0,setTimeout(function(){c=!1},b))}}var l=!1;jQuery(function(a){f("document.ready")});
b(window).on("load",function(){f("window.load")});var a=0,d=""})(jQuery);

!function(o){"object"==typeof module&&"object"==typeof module.exports?o(require("jquery"),window,document):o(jQuery,window,document)}(function(o,t,i,e){var s=[],l=function(){return s.length?s[s.length-1]:null},n=function(){var o,t=!1;for(o=s.length-1;o>=0;o--)s[o].$blocker&&(s[o].$blocker.toggleClass("current",!t).toggleClass("behind",t),t=!0)};o.modal=function(t,i){var e,n;if(this.$body=o("body"),this.options=o.extend({},o.modal.defaults,i),this.options.doFade=!isNaN(parseInt(this.options.fadeDuration,10)),this.$blocker=null,this.options.closeExisting)for(;o.modal.isActive();)o.modal.close();if(s.push(this),t.is("a"))if(n=t.attr("href"),this.anchor=t,/^#/.test(n)){if(this.$elm=o(n),1!==this.$elm.length)return null;this.$body.append(this.$elm),this.open()}else this.$elm=o("<div>"),this.$body.append(this.$elm),e=function(o,t){t.elm.remove()},this.showSpinner(),t.trigger(o.modal.AJAX_SEND),o.get(n).done(function(i){if(o.modal.isActive()){t.trigger(o.modal.AJAX_SUCCESS);var s=l();s.$elm.empty().append(i).on(o.modal.CLOSE,e),s.hideSpinner(),s.open(),t.trigger(o.modal.AJAX_COMPLETE)}}).fail(function(){t.trigger(o.modal.AJAX_FAIL);var i=l();i.hideSpinner(),s.pop(),t.trigger(o.modal.AJAX_COMPLETE)});else this.$elm=t,this.anchor=t,this.$body.append(this.$elm),this.open()},o.modal.prototype={constructor:o.modal,open:function(){var t=this;this.block(),this.anchor.blur(),this.options.doFade?setTimeout(function(){t.show()},this.options.fadeDuration*this.options.fadeDelay):this.show(),o(i).off("keydown.modal").on("keydown.modal",function(o){var t=l();27===o.which&&t.options.escapeClose&&t.close()}),this.options.clickClose&&this.$blocker.click(function(t){t.target===this&&o.modal.close()})},close:function(){s.pop(),this.unblock(),this.hide(),o.modal.isActive()||o(i).off("keydown.modal")},block:function(){this.$elm.trigger(o.modal.BEFORE_BLOCK,[this._ctx()]),this.$body.css("overflow","hidden"),this.$blocker=o('<div class="'+this.options.blockerClass+' blocker current"></div>').appendTo(this.$body),n(),this.options.doFade&&this.$blocker.css("opacity",0).animate({opacity:1},this.options.fadeDuration),this.$elm.trigger(o.modal.BLOCK,[this._ctx()])},unblock:function(t){!t&&this.options.doFade?this.$blocker.fadeOut(this.options.fadeDuration,this.unblock.bind(this,!0)):(this.$blocker.children().appendTo(this.$body),this.$blocker.remove(),this.$blocker=null,n(),o.modal.isActive()||this.$body.css("overflow",""))},show:function(){this.$elm.trigger(o.modal.BEFORE_OPEN,[this._ctx()]),this.options.showClose&&(this.closeButton=o('<a href="#close-modal" rel="modal:close" class="close-modal '+this.options.closeClass+'">'+this.options.closeText+"</a>"),this.$elm.append(this.closeButton)),this.$elm.addClass(this.options.modalClass).appendTo(this.$blocker),this.options.doFade?this.$elm.css({opacity:0,display:"inline-block"}).animate({opacity:1},this.options.fadeDuration):this.$elm.css("display","inline-block"),this.$elm.trigger(o.modal.OPEN,[this._ctx()])},hide:function(){this.$elm.trigger(o.modal.BEFORE_CLOSE,[this._ctx()]),this.closeButton&&this.closeButton.remove();var t=this;this.options.doFade?this.$elm.fadeOut(this.options.fadeDuration,function(){t.$elm.trigger(o.modal.AFTER_CLOSE,[t._ctx()])}):this.$elm.hide(0,function(){t.$elm.trigger(o.modal.AFTER_CLOSE,[t._ctx()])}),this.$elm.trigger(o.modal.CLOSE,[this._ctx()])},showSpinner:function(){this.options.showSpinner&&(this.spinner=this.spinner||o('<div class="'+this.options.modalClass+'-spinner"></div>').append(this.options.spinnerHtml),this.$body.append(this.spinner),this.spinner.show())},hideSpinner:function(){this.spinner&&this.spinner.remove()},_ctx:function(){return{elm:this.$elm,$elm:this.$elm,$blocker:this.$blocker,options:this.options,$anchor:this.anchor}}},o.modal.close=function(t){if(o.modal.isActive()){t&&t.preventDefault();var i=l();return i.close(),i.$elm}},o.modal.isActive=function(){return s.length>0},o.modal.getCurrent=l,o.modal.defaults={closeExisting:!0,escapeClose:!0,clickClose:!0,closeText:"Close",closeClass:"",modalClass:"modal",blockerClass:"jquery-modal",spinnerHtml:'<div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div>',showSpinner:!0,showClose:!0,fadeDuration:null,fadeDelay:1},o.modal.BEFORE_BLOCK="modal:before-block",o.modal.BLOCK="modal:block",o.modal.BEFORE_OPEN="modal:before-open",o.modal.OPEN="modal:open",o.modal.BEFORE_CLOSE="modal:before-close",o.modal.CLOSE="modal:close",o.modal.AFTER_CLOSE="modal:after-close",o.modal.AJAX_SEND="modal:ajax:send",o.modal.AJAX_SUCCESS="modal:ajax:success",o.modal.AJAX_FAIL="modal:ajax:fail",o.modal.AJAX_COMPLETE="modal:ajax:complete",o.fn.modal=function(t){return 1===this.length&&new o.modal(this,t),this},o(i).on("click.modal",'a[rel~="modal:close"]',o.modal.close),o(i).on("click.modal",'a[rel~="modal:open"]',function(t){t.preventDefault(),o(this).modal()})});